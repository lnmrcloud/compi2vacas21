<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="styles.css">
</head>

<title>
    TytusX Grupo 10
</title>

<h1 class="Titulo"> TytusX Grupo 10 </h1>
<h3 class="subtitulo"> XPATH </h3>

<body>
    <table>
        <tr>
            <td>
                <!-- AREA DE TEXTO PARA CONSULTA -->
                <div id="ide2">
                    <textarea id="txtXpath" class="txtarea" name="txtXpath" rows="5" cols="100"></textarea>
                </div> 
            </td>
        </tr>
    </table>
    <h3 class="subtitulo">XML</h3>
    <table>
        <tr>
            <td>
                <!-- AREA DE TEXTO PARA XML -->
                <div id="ide">
                    <textarea id="txtXML" class="txtarea" name="txtXML" rows="30" cols="100"></textarea>
                    <br /><br />
                    <input type="file" name="inputfile" id="inputfile">
                    <input type="button" class="button" value="Analizar" onclick="analizar_xml();" /> <br /><br>

                </div>
            </td>
        </tr>
    </table>

    <h3 class="subtitulo"> RESULTADO </h3>
    <table>
        <tr>
            <td>
                <!-- AREA DE TEXTO PARA RESULTADO -->
                <div id="ide3">
                    <textarea id="console"  class="txtarea" name="console" rows="20" cols="100">>></textarea>
                    <br /><br />
                    <input type="button" class="button" value="Limpiar" onclick="javascript:clearConsole();" />
                </div>  
            </td>
        </tr>
    </table>

</body>

<script src="Gramatica\gramatica.js"></script>
<script src="GramaticaXPATH\gramaticaXpath.js"></script>
<script src="dist/Expresiones/Objeto.js"></script>
<script src="dist/Expresiones/Atributo.js"></script>

<script type="text/javascript">
    document.getElementById('inputfile')
        .addEventListener('change', function () {
            var fr = new FileReader();
            fr.onload = function () {
                document.getElementById('txtXML')
                    .textContent = fr.result;
            }
            fr.readAsText(this.files[0]);
        })
</script>

<script type="text/javascript">
    function analizar_xml() {

        lexicalErrors = [];
        syntaxErrors = [];
        semanticErrors = [];
        var toParse = document.getElementById("txtXML").value;
        var result = gramatica.parse(toParse);

        if (result != null) {
            document.getElementById("console").innerHTML = "retorne valor";
        } else {
            document.getElementById("console").innerHTML = "no retorne valor";
        }
    }

    function analizar_xml() {

        lexicalErrors = [];
        syntaxErrors = [];
        semanticErrors = [];
        var toParse = document.getElementById("txtXpath").value;
        var result = gramaticaXpath.parse(toParse);

        document.getElementById('console').innerHTML = "";
        
        if (result != null) {
            document.getElementById("console").innerHTML = "retorne valor";
        } else {
            document.getElementById("console").innerHTML = "no retorne valor";
        }
    }

    function clearConsole() {
        document.getElementById('console').innerHTML = "";
    }
</script>

</html>
